<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dark Souls 1 - Magias</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #1e1e1e;
      color: #f0f0f0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    .progress {
      text-align: center;
      margin-bottom: 20px;
      font-size: 1.1em;
    }
    .reset-btn {
      display: block;
      margin: 0 auto 30px auto;
      padding: 10px 20px;
      background-color: #cc0000;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
    }
    .reset-btn:hover {
      background-color: #ff3333;
    }
    .container {
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }
    .column {
      flex: 1;
      background-color: #2e2e2e;
      padding: 15px;
      border-radius: 8px;
    }
    .column h2 {
      text-align: center;
      margin-bottom: 10px;
    }
    label {
      display: block;
      margin: 5px 0;
      cursor: pointer;
    }
    input[type="checkbox"]:checked + span {
      text-decoration: line-through;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>Dark Souls 1 - Magias</h1>
  <div class="progress" id="progress">Cargando progreso...</div>
  <button class="reset-btn" onclick="resetProgress()">ðŸ”„ Reiniciar progreso</button>
  <div class="container">
    <div class="column" id="piromancias">
      <h2>ðŸ”¥ Piromancias</h2>
    </div>
    <div class="column" id="hechizos">
      <h2>ðŸ”® Hechizos</h2>
    </div>
    <div class="column" id="milagros">
      <h2>âœ¨ Milagros</h2>
    </div>
  </div>

  <script>
    const piromancias = [
      "Orbe de fuego", "Gran orbe de fuego", "Orbe de fuego del caos", "Gran orbe de fuego del caos",
      "CombustiÃ³n", "Gran combustiÃ³n", "Tormenta de fuego", "Tormenta de fuego del caos",
      "Oleada de fuego", "Oleada Ã¡cida", "Neblina venenosa", "Neblina tÃ³xica",
      "Carne fÃ©rrea", "Sudor relÃ¡mpago", "Poder interior", "CompenetraciÃ³n con no muertos"
    ];

    const hechizos = [
      "Flecha de alma", "Flecha de alma pesada", "Gran flecha de alma", "Gran flecha de alma pesada",
      "Masa de alma dirigida", "Masa de alma de cristal dirigida", "Lanza de alma", "Lanza de alma de cristal",
      "Aliento de dragÃ³n blanco", "Arma mÃ¡gica", "Gran arma mÃ¡gica", "Arma mÃ¡gica de cristal",
      "Escudo mÃ¡gico", "Escudo mÃ¡gico fuerte", "Cuerpo oculto", "CamaleÃ³n", "Silencio",
      "SeÃ±uelo aural", "Reparar", "Remedio", "Lanzar luz", "Controlar caÃ­da",
      "Disipar maldiciÃ³n", "Arma oculta"
    ];

    const milagros = [
      "CuraciÃ³n", "Gran curaciÃ³n", "Extracto de gran curaciÃ³n", "Reabastecimiento",
      "Luz solar dadivosa", "Luz solar relajante", "Regresar", "Emitir fuerza", "Fuerza",
      "Ira de los dioses", "Lanza relÃ¡mpago", "Gran lanza relÃ¡mpago", "Lanza de luz solar",
      "Espada de luz solar", "Espada de Luna Oscura", "Justicia kÃ¡rmica", "Voto de silencio",
      "Apacible paseo de paz", "Buscar orientaciÃ³n", "Barrera mÃ¡gica", "Gran barrera mÃ¡gica",
      "Danza espada rey del cementerio", "Gran danza espada rey del cementerio"
    ];

    function createList(spells, containerId) {
      const container = document.getElementById(containerId);
      spells.forEach((spell, index) => {
        const id = `${containerId}-${index}`;
        const saved = localStorage.getItem(id) === "true";
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = id;
        checkbox.checked = saved;
        checkbox.addEventListener("change", () => {
          localStorage.setItem(id, checkbox.checked);
          updateProgress();
        });
        const span = document.createElement("span");
        span.textContent = spell;
        label.appendChild(checkbox);
        label.appendChild(span);
        container.appendChild(label);
      });
    }

    function updateProgress() {
      const total = piromancias.length + hechizos.length + milagros.length;
      let marked = 0;
      piromancias.forEach((_, i) => {
        if (document.getElementById(`piromancias-${i}`).checked) marked++;
      });
      hechizos.forEach((_, i) => {
        if (document.getElementById(`hechizos-${i}`).checked) marked++;
      });
      milagros.forEach((_, i) => {
        if (document.getElementById(`milagros-${i}`).checked) marked++;
      });

      const progressText = `
        ðŸ”¥ Piromancias: ${countChecked("piromancias", piromancias.length)} / ${piromancias.length} |
        ðŸ”® Hechizos: ${countChecked("hechizos", hechizos.length)} / ${hechizos.length} |
        âœ¨ Milagros: ${countChecked("milagros", milagros.length)} / ${milagros.length} |
        ðŸ§® Total: ${marked} / ${total}
      `;
      document.getElementById("progress").textContent = progressText;
    }

    function countChecked(prefix, length) {
      let count = 0;
      for (let i = 0; i < length; i++) {
        if (document.getElementById(`${prefix}-${i}`).checked) count++;
      }
      return count;
    }

    function resetProgress() {
      if (confirm("Â¿Seguro que quieres reiniciar tu progreso?")) {
        [...piromancias, ...hechizos, ...milagros].forEach((_, i) => {
          localStorage.removeItem(`piromancias-${i}`);
          localStorage.removeItem(`hechizos-${i}`);
          localStorage.removeItem(`milagros-${i}`);
        });
        document.querySelectorAll("input[type='checkbox']").forEach(cb => cb.checked = false);
        updateProgress();
      }
    }

    createList(piromancias, "piromancias");
    createList(hechizos, "hechizos");
    createList(milagros, "milagros");
    updateProgress();
  </script>
</body>
